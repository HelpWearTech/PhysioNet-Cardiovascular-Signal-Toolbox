function y = ecg_LP_filter_22_250(x)
%ECG_LP_FILTER_22_250 Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.1 and the DSP System Toolbox 9.3.
% Generated on: 30-Aug-2018 12:52:06

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Lowpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 250;  % Sampling Frequency
    %
    % Fpass = 22;              % Passband Frequency
    % Fstop = 25;              % Stopband Frequency
    % Dpass = 0.057501127785;  % Passband Ripple
    % Dstop = 0.0001;          % Stopband Attenuation
    % dens  = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fpass, Fstop]/(Fs/2), [1 0], [Dpass, Dstop]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.000167062729524913 -0.00034862273776614 ...
        -0.000629997842782772 -0.000958826853165903 -0.00126320309032312 ...
        -0.0014406393188393 -0.00137591436654513 -0.000970230469902584 ...
        -0.000173914059422754 0.000984852518181498 0.00238592563038801 ...
        0.00382564866126539 0.0050494984082645 0.00580564872991429 ...
        0.00590750220266261 0.00528882967330153 0.0040354450108583 ...
        0.00238053797799474 0.000660205726728703 -0.000762995192379265 ...
        -0.001590636340994 -0.0016690328045873 -0.00103614289718746 ...
        8.17596359682855e-05 0.00132641616888827 0.00230429391264501 ...
        0.00269844538149915 0.00236328447006182 0.00137289272865116 ...
        5.7642874899386e-06 -0.00133299893596232 -0.00223179875099559 ...
        -0.00240037197805083 -0.00176598047459024 -0.000506149663888987 ...
        0.000995729359861695 0.00226229259452875 0.00286986901347465 ...
        0.00258690393574309 0.00145837864798746 -0.000194070748510251 ...
        -0.00186125175742005 -0.00300117512316246 -0.00321333261976108 ...
        -0.00237720567086966 -0.000707860237560581 0.00129458128791838 ...
        0.00299154231417992 0.00380667034954451 0.00341844780353407 ...
        0.0018812225920644 -0.000369464321068117 -0.00263627411460157 ...
        -0.00417293427333277 -0.00442665989052518 -0.00323242730526088 ...
        -0.000892153480195958 0.00189465384313041 0.00423559937594585 ...
        0.00532703900618157 0.00472505888273893 0.00251591221987429 ...
        -0.000676870962736599 -0.0038620177525834 -0.00598280587759745 ...
        -0.00626164914156334 -0.00447647692969904 -0.00107325306533453 ...
        0.00293384115262209 0.00625674023670531 0.00773937443259454 ...
        0.00674967714337519 0.00342791828367768 -0.00130082072390243 ...
        -0.00597175585640527 -0.00902217449258375 -0.0093001647507496 ...
        -0.00647893070289377 -0.0012336699436868 0.00489597275935348 ...
        0.00993881320340325 0.0121040491844918 0.010388465291653 ...
        0.00498142460685935 -0.00268146801567584 -0.010265333225761 ...
        -0.0152093336555205 -0.0155417091335457 -0.0105903842536857 ...
        -0.00135323413233418 0.00962357840223239 0.0188727408313531 ...
        0.0229983125871765 0.0197696599635182 0.00899823023143213 ...
        -0.00708566237677823 -0.0241172790305879 -0.0365269212099199 ...
        -0.0389130577106157 -0.0275178165216398 -0.00141126003426742 ...
        0.0369546130444303 0.082010267580088 0.126130283545128 0.161259405277694 ...
        0.180714075022844 0.180714075022844 0.161259405277694 0.126130283545128 ...
        0.082010267580088 0.0369546130444303 -0.00141126003426742 ...
        -0.0275178165216398 -0.0389130577106157 -0.0365269212099199 ...
        -0.0241172790305879 -0.00708566237677823 0.00899823023143213 ...
        0.0197696599635182 0.0229983125871765 0.0188727408313531 ...
        0.00962357840223239 -0.00135323413233418 -0.0105903842536857 ...
        -0.0155417091335457 -0.0152093336555205 -0.010265333225761 ...
        -0.00268146801567584 0.00498142460685935 0.010388465291653 ...
        0.0121040491844918 0.00993881320340325 0.00489597275935348 ...
        -0.0012336699436868 -0.00647893070289377 -0.0093001647507496 ...
        -0.00902217449258375 -0.00597175585640527 -0.00130082072390243 ...
        0.00342791828367768 0.00674967714337519 0.00773937443259454 ...
        0.00625674023670531 0.00293384115262209 -0.00107325306533453 ...
        -0.00447647692969904 -0.00626164914156334 -0.00598280587759745 ...
        -0.0038620177525834 -0.000676870962736599 0.00251591221987429 ...
        0.00472505888273893 0.00532703900618157 0.00423559937594585 ...
        0.00189465384313041 -0.000892153480195958 -0.00323242730526088 ...
        -0.00442665989052518 -0.00417293427333277 -0.00263627411460157 ...
        -0.000369464321068117 0.0018812225920644 0.00341844780353407 ...
        0.00380667034954451 0.00299154231417992 0.00129458128791838 ...
        -0.000707860237560581 -0.00237720567086966 -0.00321333261976108 ...
        -0.00300117512316246 -0.00186125175742005 -0.000194070748510251 ...
        0.00145837864798746 0.00258690393574309 0.00286986901347465 ...
        0.00226229259452875 0.000995729359861695 -0.000506149663888987 ...
        -0.00176598047459024 -0.00240037197805083 -0.00223179875099559 ...
        -0.00133299893596232 5.7642874899386e-06 0.00137289272865116 ...
        0.00236328447006182 0.00269844538149915 0.00230429391264501 ...
        0.00132641616888827 8.17596359682855e-05 -0.00103614289718746 ...
        -0.0016690328045873 -0.001590636340994 -0.000762995192379265 ...
        0.000660205726728703 0.00238053797799474 0.0040354450108583 ...
        0.00528882967330153 0.00590750220266261 0.00580564872991429 ...
        0.0050494984082645 0.00382564866126539 0.00238592563038801 ...
        0.000984852518181498 -0.000173914059422754 -0.000970230469902584 ...
        -0.00137591436654513 -0.0014406393188393 -0.00126320309032312 ...
        -0.000958826853165903 -0.000629997842782772 -0.00034862273776614 ...
        -0.000167062729524913]);
end

% y = step(Hd,double(x));
y=filter(Hd.Numerator,1,x);
y=y(floor(length(Hd.Numerator)/2)+1:end);


% [EOF]
